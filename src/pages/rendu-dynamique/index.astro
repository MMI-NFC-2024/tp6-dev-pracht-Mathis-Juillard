---
import Layout from "../../layouts/Layout.astro";
import penguinsRaw from "../../assets/penguins.json";

const species = [...new Set(penguinsRaw.map(d => d.species))];
---

<Layout title="TP6 — Rendu dynamique : index">
  <div class="mb-6">
    <div class="kicker">Routes paramétriques</div>
    <h1 class="page-title">Dynamique</h1>
    <p class="text-slate-400">Pages générées à la volée (prerender désactivé).</p>
  </div>

  <div class="card p-5">
    <ul class="grid sm:grid-cols-2 md:grid-cols-3 gap-3">
      {species.map(s => (
        <li>
          <a class="block p-4 rounded-xl border border-white/10 hover:border-white/20
                     bg-slate-900/30 hover:bg-white/5 transition"
             href={`/rendu-dynamique/${encodeURIComponent(s)}`}>
            <div class="font-medium">{s}</div>
            <div class="text-xs text-slate-400">ouvrir la page</div>
          </a>
        </li>
      ))}
    </ul>
  </div>
</Layout>
